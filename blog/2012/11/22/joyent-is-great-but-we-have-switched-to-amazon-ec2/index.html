
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Joyent is great, but we've switched to Amazon EC2 - Divisa C</title>
  <meta name="author" content="David Misshula">

  
  <meta name="description" content="At Understoodit, we’ve been hosting our node.js application on the Joyent cloud using two Small 1GB (1 vCPU) SmartOS machines for over four months. &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://misshula.github.com/blog/2012/11/22/joyent-is-great-but-we-have-switched-to-amazon-ec2">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Divisa C" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-36315265-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1>Divisa C</h1>
  
    <h2><a href="/">DM</a></h2>
  
</hgroup>

</header>
  <nav role="navigation">
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:misshula.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <a href="https://twitter.com/davidmisshula" class="twitter-follow-button" data-show-count="false">Follow @davidmisshula</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Joyent Is Great, but We've Switched to Amazon EC2</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-22T14:13:00-05:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>At <a href="http://understoodit.com">Understoodit</a>, we’ve been hosting our node.js application on the <a href="http://joyent.com">Joyent</a> cloud using two Small 1GB (1 vCPU) SmartOS machines for over four months. It’s snappy, reliable and costs us $124.10 a month.</p>

<p>But, a few holes have forced us to hosting on Amazon EC2.</p>

<p>I’ll explain why we chose Joyent in the first place (you should explore it too) and why we’ve switched to EC2.</p>

<h3>Why choose Joyent:</h3>


<ul>
<li><strong>Node &amp; Joyent:</strong> Joyent has hired the key guys that developed Node including Ryan Lienhart Dahl (the creator a Node) and Isaac Schlueter (creator of the Node package manager and current project lead of Node) to give Node a sponsored house for it to grow. Joyent seems like the perfect place to host your node.js application.</li>
<li><strong>Performance:</strong> A recent <a href="http://mattconnolly.wordpress.com/2012/11/18/comparing-amazon-ec2-to-joyent-smartos/">post</a> by Matt Connolly shows the speed that Joyent provides. Talking with the guys from Joyent, they put a higher priority on performance and stability by using a “revamped infrastructure management platform”.</li>
<li><strong>Customer Support:</strong> Within the first two days of provisioning my Joyent machine, I was greeted by a real person. Jeffery Bliss from Joyent was extremely knowledgable and an amazing help to provide me with some awesome details. He also included options outside of Joyent to help weigh my decision. And it was free.</li>
<li><strong>Auto Scaling:</strong> If all goes well, you will have to scale your application by increasing your physical machine&#8217;s CPU speeds and RAM. With Joyent, you can do this on-the-fly without having to shutdown, provision or set up a new machine.</li>
<li><strong>Data Analytics:</strong> Joyent teamed up with <a href="http://nodefly.com">Nodefly</a> and <a href="http://newrelic.com">New Relic</a> (application monitoring systems) that provide you with real-time application data. When you sign up with Joyent, you get exclusive access to both - for free.</li>
</ul>


<p>These reasons back Joyent’s legitimacy in competing with, and in some cases, outdoing Amazon, but there were a host of reasons why we ended up deciding to switch to EC2.</p>

<h3>Why we chose Amazon EC2:</h3>


<ul>
<li><strong>It’s Cheaper:</strong> We have a staging environment that mirrors our production environment. With EC2 we can run our staging environment only when we are actually using it. In contrast, with Joyent, our machines must always be running (and billing). EC2 runs on a SAN (<a href="http://en.wikipedia.org/wiki/Storage_area_network">Storage area network</a>) in which each machine is provisioned with a “virtual hard drive” and elastic IP address. In turn, you only pay for the time you have it up and costs as little as 2 cents an hour. Also, AWS provides you with some <a href="ttp://aws.amazon.com/free/">free</a> services to get you started. It is always nice to get a taste before you pay.</li>
<li><strong>We use their other services:</strong> Not only do we use AWS for EC2 but we also use Cloudfront as our CDN and look to take advantage of a few other offerings AWS provides. We also run our databases on Heroku Postgres which is on the Amazon network.</li>
<li><strong>Multiple Locations:</strong> AWS allows you to provision VMs in Asia, North America, South America, Austrailia and Europe. We offer a custom version and being able to provision a machine closer to our clients is a big win. Dealing with a recent customer in the UK - we provided them a solution where their data was local (and not overseas) that was a huge selling point.</li>
<li><p><strong>SmartOS is not Ubuntu:</strong> Joyent gives you the option to run Ubuntu, but their “house” OS is SmartOS, which has a learning curve. With SmartOS, I came across a few annoying nuances.
   <ul>
   <li>When trying to set up Stud for our SSL connections, I needed pull a specific version forked for SmartOS (thanks <a href="https://github.com/stash">Stash</a>). I thought I was in the clear, but inevitably ran into some privileges issues that were solved by this Solaris specific command:
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;<code>pfexec crle -l /usr/local/lib -u</code></p>

<p>  Not the end of the world - but it added some frustration to my installation.
  </li>
  <li>
  I ran into another issue when trying to install the latest Haproxy with SSL (to get rid of Stud). The issue arises with the inability to install libssl-dev on SmartOS. I never found a workaround for this issue and it may have been the final deterrent for me.
  </li>
  <li>
  Another issue I found was when trying to install syslog-ng to set up external logs through <a href="http://loggly.com">Loggly</a>.
  </li></p>

<p>  These issues made the experience of working with SmartOS more frustrating and added time to setting up the VMs. On second try, I’d likely just provision a Joyent machine with Ubuntu. Joyent does provide a SmartOS <a href="http://wiki.joyent.com/wiki/display/jpc2/The+Joyent+Linux-to-SmartOS+Cheat+Sheet">cheatsheet</a>.
  <strong>Aside:</strong> An interesting <a href="http://www.infoworld.com/d/cloud-computing/review-joyent-cloud-built-speed-207561">article</a> by Peter Wayner points out the advantages of SmartOS as a enterprise server.
  </ul></p></li>
</ul>


<p>Like any decision there are tradeoffs to both. For now, it makes sense for our business to use AWS EC2 as we are not at the stage to reap the benefits that Joyent provides. I do think that Joyent is pushing the boundaries of cloud computing by providing increasingly better performance, excellent customer support, and going up against a big player in AWS with a “we are out to get you” mentality. I will definitely be keeping a close eye on Joyent and explore their options again in the future.</p>

<p>Here is some further reading comparing AWS EC2 vs Joyent:</p>

<ul>
<li><a href="http://www.joyent.com/products/joyent-cloud/aws-comparison">http://www.joyent.com/products/joyent-cloud/aws-comparison</a></li>
<li><a href="http://searchcloudcomputing.techtarget.com/video/Joyent-CEO-pokes-holes-in-Amazons-cloud">http://searchcloudcomputing.techtarget.com/video/Joyent-CEO-pokes-holes-in-Amazons-cloud</a></li>
<li><a href="http://cloud-computing.findthebest.com/compare/5-6/Amazon-EC2-vs-Joyent">http://cloud-computing.findthebest.com/compare/5-6/Amazon-EC2-vs-Joyent</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn"><a href="/about" title="About the author (David Misshula)" rel="author">David Misshula</a></span></span>

      








  


<time datetime="2012-11-22T14:13:00-05:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/ec2/'>ec2</a>, <a class='category' href='/blog/categories/joyent-/'>joyent,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://misshula.github.com/blog/2012/11/22/joyent-is-great-but-we-have-switched-to-amazon-ec2/" data-via="davidmisshula" data-counturl="http://misshula.github.com/blog/2012/11/22/joyent-is-great-but-we-have-switched-to-amazon-ec2/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/11/16/quit-my-job-for-a-startup-what-ibm-had-wrong/" title="Previous Post: Quit My Job for a Startup - What IBM Had Wrong">&laquo; Quit My Job for a Startup - What IBM Had Wrong</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - David Misshula -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'davidmisshulablog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://misshula.github.com/blog/2012/11/22/joyent-is-great-but-we-have-switched-to-amazon-ec2/';
        var disqus_url = 'http://misshula.github.com/blog/2012/11/22/joyent-is-great-but-we-have-switched-to-amazon-ec2/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
